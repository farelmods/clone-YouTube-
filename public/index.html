<!DOCTYPE html>

<html>

<head>

  <title>Invirusblast Tube</title>

  <style>

    body { background: #111; color: white; font-family: Arial; padding: 20px; }

    h1 { color: red; }

    input { padding: 10px; width: 70%; }

    button { padding: 10px; background: red; color: white; border: none; }

    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; margin-top: 20px; }

    .card { background: #1e1e1e; padding: 10px; border-radius: 10px; }

    img { width: 100%; border-radius: 10px; }

    iframe { width: 100%; height: 200px; margin-top: 10px; border-radius: 10px; }

  </style>

</head>

<body>

<h1>ðŸ”¥ Invirusblast Tube</h1>

<input type="text" id="search" placeholder="Cari video...">

<button onclick="searchVideo()">Cari</button>

<div class="grid" id="results"></div>

<script>

async function searchVideo() {

  const query = document.getElementById("search").value;

  const res = await fetch(`/api/search?q=${query}`);

  const data = await res.json();

  const results = document.getElementById("results");

  results.innerHTML = "";

  if (!data.items) {

    results.innerHTML = "<p>Tidak ada hasil.</p>";

    return;

  }

  data.items.forEach(video => {

    if (!video.id.videoId) return;

    results.innerHTML += `

      <div class="card">

        <h3>${video.snippet.title}</h3>

        <img src="${video.snippet.thumbnails.medium.url}">

        <iframe 

          src="https://www.youtube.com/embed/${video.id.videoId}" 

          allowfullscreen>

        </iframe>

      </div>

    `;

  });

}

</script>

</body>

</html>